import{a as m}from"./assets/vendor-34f890c2.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();async function f(t,o=1){const a={key:"43845799-470caa65ff354fc4cfb98d159",q:t,image_type:"photo",orientation:"horizontal",safesearch:"true",page:o,per_page:15},e="https://pixabay.com/api/";try{return(await m.get(e,{params:a})).data}catch(r){throw new Error("Error fetching data: "+r.message)}}function u(t){const o=document.querySelector(".gallery");t.forEach(a=>{const e=`
      <a href="${a.largeImageURL}" data-lightbox="gallery">
        <img src="${a.webformatURL}" alt="${a.tags}" />
      </a>
    `;o.insertAdjacentHTML("beforeend",e)}),new SimpleLightbox(".gallery a").refresh()}let s=1,i="",d=0,c=0;document.querySelector(".search-form").addEventListener("submit",function(t){if(t.preventDefault(),i=document.querySelector(".search-input").value.trim(),i===""){iziToast.error({title:"Error",message:"Please enter a search term."});return}s=1,c=0,document.querySelector(".gallery").innerHTML="",document.querySelector(".load-more").style.display="none",y()});document.querySelector(".load-more").addEventListener("click",function(){s++,y()});async function y(){try{document.querySelector(".loader").style.display="block";const t=await f(i,s);if(document.querySelector(".loader").style.display="none",t.hits.length===0&&s===1){u([]),iziToast.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"});return}u(t.hits),c+=t.hits.length,d=t.totalHits;const o=document.querySelector(".gallery"),{height:n}=o.firstElementChild.getBoundingClientRect();window.scrollBy({top:n*2,behavior:"smooth"}),c>=d?(document.querySelector(".load-more").style.display="none",iziToast.info({title:"Info",message:"We're sorry, but you've reached the end of search results."})):document.querySelector(".load-more").style.display="block"}catch(t){document.querySelector(".loader").style.display="none",console.error("Error fetching data:",t),iziToast.error({title:"Error",message:"An error occurred while fetching data. Please try again later."})}}
//# sourceMappingURL=commonHelpers.js.map
